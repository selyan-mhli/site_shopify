<section class="cart-main py-16 bg-dark-950 min-h-[60vh]">
  <div class="container mx-auto px-6">
    <h1 class="text-3xl md:text-4xl font-bold text-dark-100 mb-8">Your Cart</h1>
    
    {% if cart.item_count > 0 %}
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
        <div class="lg:col-span-2">
          <div class="space-y-6">
            {% for item in cart.items %}
              <div class="cart-item flex gap-6 p-4 bg-dark-900/50 rounded-xl border border-dark-800/50">
                <a href="{{ item.url }}" class="flex-shrink-0 w-24 h-24 rounded-lg overflow-hidden bg-dark-800">
                  {% if item.image %}
                    <img 
                      src="{{ item.image | image_url: width: 200 }}"
                      alt="{{ item.title | escape }}"
                      class="w-full h-full object-cover"
                    >
                  {% endif %}
                </a>
                
                <div class="flex-1 min-w-0">
                  <a href="{{ item.url }}" class="text-dark-100 font-medium hover:text-primary-400 transition-colors line-clamp-1">
                    {{ item.product.title }}
                  </a>
                  
                  {% unless item.product.has_only_default_variant %}
                    <p class="text-sm text-dark-500 mt-1">{{ item.variant.title }}</p>
                  {% endunless %}
                  
                  <div class="flex items-center justify-between mt-4">
                    <div class="flex items-center border border-dark-700 rounded-lg">
                      <button 
                        type="button" 
                        class="w-8 h-8 flex items-center justify-center text-dark-400 hover:text-primary-400 transition-colors"
                        data-cart-quantity-minus
                        data-line="{{ forloop.index }}"
                      >-</button>
                      <span class="w-10 text-center text-dark-100 text-sm">{{ item.quantity }}</span>
                      <button 
                        type="button" 
                        class="w-8 h-8 flex items-center justify-center text-dark-400 hover:text-primary-400 transition-colors"
                        data-cart-quantity-plus
                        data-line="{{ forloop.index }}"
                      >+</button>
                    </div>
                    
                    <span class="text-dark-100 font-medium">{{ item.final_line_price | money }}</span>
                  </div>
                </div>
                
                <button 
                  type="button"
                  class="flex-shrink-0 p-2 text-dark-500 hover:text-red-500 transition-colors"
                  data-cart-remove
                  data-line="{{ forloop.index }}"
                  aria-label="Remove item"
                >
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                  </svg>
                </button>
              </div>
            {% endfor %}
          </div>
        </div>
        
        <div class="lg:col-span-1">
          <div class="sticky top-24 p-6 bg-dark-900/50 rounded-xl border border-dark-800/50">
            <h2 class="text-lg font-semibold text-dark-100 mb-4">Order Summary</h2>
            
            <div class="space-y-3 mb-6">
              <div class="flex items-center justify-between text-sm">
                <span class="text-dark-400">Subtotal</span>
                <span class="text-dark-100">{{ cart.total_price | money }}</span>
              </div>
              <div class="flex items-center justify-between text-sm">
                <span class="text-dark-400">Shipping</span>
                <span class="text-dark-500">Calculated at checkout</span>
              </div>
            </div>
            
            <div class="border-t border-dark-700 pt-4 mb-6">
              <div class="flex items-center justify-between">
                <span class="text-dark-100 font-medium">Total</span>
                <span class="text-xl font-bold text-dark-100">{{ cart.total_price | money }}</span>
              </div>
            </div>
            
            <a href="/checkout" class="btn-primary w-full justify-center">
              Checkout
            </a>
            
            <a href="/collections/all" class="block text-center text-sm text-dark-400 hover:text-primary-400 transition-colors mt-4">
              Continue Shopping
            </a>
          </div>
        </div>
      </div>
    {% else %}
      <div class="text-center py-16">
        <div class="w-20 h-20 mx-auto mb-6 bg-dark-800 rounded-full flex items-center justify-center">
          <svg class="w-10 h-10 text-dark-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
          </svg>
        </div>
        <h2 class="text-xl font-semibold text-dark-100 mb-2">Your cart is empty</h2>
        <p class="text-dark-400 mb-6">Looks like you haven't added anything yet.</p>
        <a href="/collections/all" class="btn-primary">
          Start Shopping
        </a>
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Cart Main",
  "settings": [],
  "presets": []
}
{% endschema %}
